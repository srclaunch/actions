{"version":3,"file":"index.umd.js","sources":["../src/application/index.ts","../src/application/navigation.ts","../src/entity/index.ts","../src/entity/panel.ts","../node_modules/js-file-download/file-download.js","../src/lib/files/download.ts"],"sourcesContent":["import { Navigation } from './navigation';\n\nexport const Application = {\n  Navigation,\n};\n\n","export const Navigation = {\n  go: (path: string) => {\n    window.history.pushState({}, '', path);\n  },\n};\n","import { Panel } from './panel';\n\nexport const Entity = {\n  Panel,\n};\n","import { Model } from '@srclaunch/types';\nimport { useSearchParams } from '@srclaunch/web-application-state';\n\nexport const Panel = {\n  hide: () => {\n    const searchParams = new URLSearchParams(window.location.search);\n\n    searchParams.delete('edit');\n    searchParams.delete('new');\n    searchParams.delete('view');\n\n    const newRelativePathQuery =\n      window.location.pathname +\n      (searchParams.toString().length > 0 ? `?${searchParams.toString()}` : '');\n\n    window.history.pushState(null, '', newRelativePathQuery);\n    // window.location.search = searchParams.toString();\n  },\n  show: ({\n    edit,\n    id,\n    model,\n  }: {\n    readonly edit?: boolean;\n    readonly id?: string;\n    readonly model: Model['name'];\n  }) => {\n    const searchParams = new URLSearchParams(window.location.search);\n\n    if (id && edit) {\n      searchParams.set('edit', `${model}/${id}`);\n    } else if (id) {\n      searchParams.set('view', `${model}/${id}`);\n    } else {\n      searchParams.set('new', model);\n    }\n\n    const newRelativePathQuery = `${\n      window.location.pathname\n    }?${searchParams.toString()}`;\n\n    console.log('newRelativePathQuery', newRelativePathQuery);\n\n    window.history.pushState(null, '', newRelativePathQuery);\n    // window.location.search = searchParams.toString();\n  },\n};\n","module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n","import fileDownload from 'js-file-download';\n\nexport function downloadDataAsFile({\n  data,\n  fileName,\n}: {\n  data: string;\n  fileName: string;\n}): void {\n  fileDownload(data, `${fileName}.csv`);\n}\n"],"names":[],"mappings":"6OAEO,KAAM,GAAc,CACzB,WCHwB,CACxB,GAAI,AAAC,GAAiB,CACpB,OAAO,QAAQ,UAAU,CAAC,EAAG,GAAI,CAAI,CACvC,CACF,CDAA,EEFa,EAAS,CACpB,MCAmB,CACnB,KAAM,IAAM,CACV,KAAM,GAAe,GAAI,iBAAgB,OAAO,SAAS,MAAM,EAE/D,EAAa,OAAO,MAAM,EAC1B,EAAa,OAAO,KAAK,EACzB,EAAa,OAAO,MAAM,EAE1B,KAAM,GACJ,OAAO,SAAS,SACF,GAAA,WAAW,OAAS,EAAI,IAAI,EAAa,SAAA,IAAe,IAExE,OAAO,QAAQ,UAAU,KAAM,GAAI,CAAoB,CAEzD,EACA,KAAM,CAAC,CACL,OACA,KACA,WAKI,CACJ,KAAM,GAAe,GAAI,iBAAgB,OAAO,SAAS,MAAM,EAE/D,AAAI,GAAM,EACR,EAAa,IAAI,OAAQ,GAAG,KAAS,GAAI,EAChC,EACT,EAAa,IAAI,OAAQ,GAAG,KAAS,GAAI,EAE5B,EAAA,IAAI,MAAO,CAAK,EAG/B,KAAM,GAAuB,GAC3B,OAAO,SAAS,YACd,EAAa,SAAS,IAElB,QAAA,IAAI,uBAAwB,CAAoB,EAExD,OAAO,QAAQ,UAAU,KAAM,GAAI,CAAoB,CAEzD,CACF,CD1CA,KEJA,GAAiB,SAAS,EAAM,EAAU,EAAM,EAAK,CACjD,GAAI,GAAY,MAAO,GAAQ,IAAe,CAAC,EAAK,CAAI,EAAI,CAAC,CAAI,EAC7D,EAAO,GAAI,MAAK,EAAU,CAAC,KAAM,GAAQ,0BAA0B,CAAC,EACxE,GAAI,MAAO,QAAO,UAAU,WAAe,IAKvC,OAAO,UAAU,WAAW,EAAM,CAAQ,MAEzC,CACD,GAAI,GAAW,OAAO,KAAO,OAAO,IAAI,gBAAmB,OAAO,IAAI,gBAAgB,CAAI,EAAI,OAAO,UAAU,gBAAgB,CAAI,EAC/H,EAAW,SAAS,cAAc,GAAG,EACzC,EAAS,MAAM,QAAU,OACzB,EAAS,KAAO,EAChB,EAAS,aAAa,WAAY,CAAQ,EAMtC,MAAO,GAAS,SAAa,KAC7B,EAAS,aAAa,SAAU,QAAQ,EAG5C,SAAS,KAAK,YAAY,CAAQ,EAClC,EAAS,MAAK,EAGd,WAAW,UAAW,CAClB,SAAS,KAAK,YAAY,CAAQ,EAClC,OAAO,IAAI,gBAAgB,CAAO,CACrC,EAAE,GAAG,CACT,CACL,EChCmC,WAAA,CACjC,OACA,YAIO,CACM,EAAA,EAAM,GAAG,OAAc,CACtC"}