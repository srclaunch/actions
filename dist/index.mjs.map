{"version":3,"file":"index.mjs","sources":["../src/application/navigation.ts","../src/application/index.ts","../src/entity/panel.ts","../src/entity/index.ts","../node_modules/js-file-download/file-download.js","../src/lib/files/download.ts"],"sourcesContent":["export const Navigation = {\n  go: (path: string) => {\n    window.history.pushState({}, '', path);\n  },\n};\n","import { Navigation } from './navigation';\n\nexport const Application = {\n  Navigation,\n};\n\n","import { Model } from '@srclaunch/types';\nimport { useSearchParams } from '@srclaunch/web-application-state';\n\nexport const Panel = {\n  hide: () => {\n    const searchParams = new URLSearchParams(window.location.search);\n\n    searchParams.delete('edit');\n    searchParams.delete('new');\n    searchParams.delete('view');\n\n    const newRelativePathQuery =\n      window.location.pathname +\n      (searchParams.toString().length > 0 ? `?${searchParams.toString()}` : '');\n\n    window.history.pushState(null, '', newRelativePathQuery);\n    // window.location.search = searchParams.toString();\n  },\n  show: ({\n    edit,\n    id,\n    model,\n  }: {\n    readonly edit?: boolean;\n    readonly id?: string;\n    readonly model: Model['name'];\n  }) => {\n    const searchParams = new URLSearchParams(window.location.search);\n\n    if (id && edit) {\n      searchParams.set('edit', `${model}/${id}`);\n    } else if (id) {\n      searchParams.set('view', `${model}/${id}`);\n    } else {\n      searchParams.set('new', model);\n    }\n\n    const newRelativePathQuery = `${\n      window.location.pathname\n    }?${searchParams.toString()}`;\n\n    console.log('newRelativePathQuery', newRelativePathQuery);\n\n    window.history.pushState(null, '', newRelativePathQuery);\n    // window.location.search = searchParams.toString();\n  },\n};\n","import { Panel } from './panel';\n\nexport const Entity = {\n  Panel,\n};\n","module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n","import fileDownload from 'js-file-download';\n\nexport function downloadDataAsFile({\n  data,\n  fileName,\n}: {\n  data: string;\n  fileName: string;\n}): void {\n  fileDownload(data, `${fileName}.csv`);\n}\n"],"names":[],"mappings":"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"}